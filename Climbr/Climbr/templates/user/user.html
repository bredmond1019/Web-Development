{% extends 'base.html' %}

{% block title %}
    Climbr - {{ user.username }}
{% endblock title %}


{% block content %}
<!-- style="background-image: url({{ url_for('static', filename='img/yosemite.jpg') }})" -->
<div class="profile-background-container"  
style="background-image: url({{ url_for('static', filename='img/moab.jpg') }})">
    <div class="profile-page-container container">
        <div class="page-background">
            <div class="container">

                <div class="page-header">
                    <div class="row">
                        
                        <div class="col-8">
                            <div class="container profile-header">
                                
                                {% if user == current_user %}
                                <h1>Welcome Back, {{ user.first_name }}!</h1>
                                {% else %}
                                <h1>{{ user.first_name }} {{ user.last_name }}</h1>
                                {% endif %}
                                
                                <p>Member Since {{ moment(user.member_since).format('MMMM Do, YYYY') }}</p>
                            </div>
                        </div>
                        
                        <div class="col">
                            <div class="image-container">
                                <div class="profile-pic-container">
                                {% if user.photo_url %}
                                    <img id='profile' class="img-rounded profile-thumbnail" 
                                    src="{{ url_for('static', filename=photo_url) }}" alt="">
                                </div>
                                <div class="profile-pic-upload-btn">
                                    
                                        {% if user == current_user %}
                                        <a  href="{{ url_for('.upload_photo', username=user.username) }}">
                                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" 
                                                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                            </svg>
                                        </a> 
                                        {% endif %}
                                        
                                        {% if current_user.is_administrator()  %}
                                        <a href="{{ url_for('.upload_photo', username=user.username) }}">
                                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                            </svg>
                                        </a> 
                                        {% endif %}
                                    </a>
                                </div>
                                {% else %}
                            
                                    <img src="{{ user.gravatar(size=150) }}" alt="">
                                </div>
                                <div class="profile-pic-upload-btn">
                                    <a href="{{ url_for('.upload_photo', username=user.username) }}" 
                                    class="btn btn-primary">Upload Profile Pic</a>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
    
            </div>
            <div class="container user-info">
                <!-- <h4>Member Since {{ moment(user.member_since).format('MMMM Do, YYYY') }}</h4> -->
                <div class="personal-info">
                    <h3><span class='info-header'>Personal Information</span> 
                    
                        {% if user == current_user %}
                        <a  href="{{ url_for('.edit_profile', username=user.username) }}">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                              </svg>
                        </a> 
                        {% endif %}
                        
                        {% if current_user.is_administrator()  %}
                        <a href="{{ url_for('.edit_profile_admin', id=user.id) }}">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                              </svg>
                        </a> 
                        {% endif %}
                    </h3>
                    
                    <div class="row">
                        
                        <div class="col-md">
                            <p class="user-info-p"><b class="user-info-b" >
                                Name:</b> {{ user.last_name }}, {{user.first_name }}</p>
                            <p class="user-info-p"><b class="user-info-b" >
                                Username:</b> {{user.username}} </p>
                            <p class="user-info-p"><b class="user-info-b" >
                                Age:</b> {{ user.age }}</p>
                            
                        </div>
                        {% if user == current_user %}
                        <div class="col-md">
                            <p class="user-info-p"><b class="user-info-b" >
                                Address:</b> {{ user.address }}</p>
                            <p class="user-info-p"><b class="user-info-b" >
                                    City: </b>{{ user.city }}   
                                <b class="user-info-b" >
                                    State: </b>{{ user.state }}</p>
                            <p class="user-info-p"><b class="user-info-b" >
                                Zip Code:</b> {{ user.zip_code }}</p>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="personal-info">
                    <h3 ><span class='info-header'>About Me</span> 
                        {% if user == current_user %}
                        <a href="{{ url_for('.edit_profile', username=user.username) }}">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                            </svg>
                        </a> 
                        {% endif %}
                        
                        {% if current_user.is_administrator()  %}
                        <a href="{{ url_for('.edit_profile_admin', id=user.id) }}">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                              </svg>
                        </a> 
                        {% endif %}
                    </h3>
                            {% if user.about %}
                            <p class="user-info-p">{{ user.about }}</p>
                            {% else %}
                            <p class="user-info-p">Edit your profile to add some 
                                information about yourself!</p>
                            {% endif %}
                </div>
                
                <div class='personal-info last-div'>
                    <h3 ><span class='info-header'>Climbing Info</span>
                    
                    {% if user == current_user %}
                    <a href="{{ url_for('.edit_climbing', username=user.username) }}">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                        </svg>    
                    </a>
                    {% endif %}
                    
                    {% if current_user.is_administrator()  %}
                    <a href="{{ url_for('.edit_profile_admin', id=user.id) }}">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                          </svg> 
                    </a> 
                    {% endif %}
                    </h3>
                    <div class="row">
                        <div class="col-sm">
                            <p class="user-info-p"><b class="user-info-b" >
                                Home Gym: </b>{{user.climbing_gym }}</p>
                            <p class="user-info-p"><b class="user-info-b" >
                                Preferred Style of Climbing: </b>{{ user.climbing_preference }}</p>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>
{% endblock content %}
    